<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Interactive People Table ‚Äî Gold (Shiny)</title>
    <style>
      :root {
        --gold-600: #d4af37;
        --gold-700: #c59d5f;
        --gold-800: #9a7130;
        --bg: #fffaf6;
        --muted: #6b6b6b;
        --card: #fff;
        --accent-contrast: #1b1b1b;
        --radius: 12px;
        --shadow: 0 8px 26px rgba(154, 113, 48, 0.12);
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
      }

      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        padding: 28px;
        background: linear-gradient(180deg, #fffaf6 0%, #fff6ea 100%);
        color: var(--accent-contrast);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      .container {
        max-width: 100%;
        width: 100%;
        padding: 0 14px; /* optional for some spacing */
        margin: 0 auto;
      }

      .card {
        background: var(--card);
        border-radius: var(--radius);
        padding: 18px;
        box-shadow: var(--shadow);
        border: 1px solid rgba(170, 140, 80, 0.08);
      }

      header.table-header {
        display: flex;
        gap: 12px;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 14px;
        flex-wrap: wrap;
      }

      .title-block {
        display: flex;
        gap: 12px;
        align-items: center;
      }

      .brand {
        background: linear-gradient(135deg, var(--gold-600), var(--gold-700));
        color: white;
        padding: 10px 14px;
        border-radius: 10px;
        font-weight: 700;
        box-shadow: 0 6px 18px rgba(165, 129, 59, 0.18);
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }

      .brand .dot {
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.14);
        box-shadow: inset 0 -2px 3px rgba(0, 0, 0, 0.08);
      }

      h1 {
        font-size: 1.05rem;
        margin: 0;
        letter-spacing: 0.2px;
        color: var(--gold-800);
      }
      p.sub {
        margin: 0;
        color: var(--muted);
        font-size: 0.9rem;
      }

      .controls {
        display: flex;
        gap: 10px;
        align-items: center;
      }

      .search {
        display: flex;
        align-items: center;
        gap: 8px;
        background: #fffaf6;
        border: 1px solid rgba(181, 146, 82, 0.15);
        padding: 8px 10px;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(160, 130, 80, 0.04);
      }
      .search input {
        border: 0;
        outline: 0;
        background: transparent;
        width: 260px;
        font-size: 0.95rem;
        color: var(--accent-contrast);
      }
      .table-wrap {
        width: 100%;
        overflow-x: auto;
        margin-top: 10px;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        min-width: 0; /* or remove this line entirely */
      }
      thead th {
        position: relative;
        text-align: left;
        padding: 12px 12px;
        font-size: 0.92rem;
        letter-spacing: 0.2px;
        border-bottom: 2px solid rgba(170, 140, 80, 0.08);
        background: linear-gradient(
          180deg,
          rgba(255, 250, 244, 0.6),
          rgba(255, 248, 240, 0.35)
        );
        cursor: pointer;
        user-select: none;
        color: var(--gold-800);
      }

      thead th .sort-ind {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 0.8rem;
        opacity: 0.8;
      }

      tbody td {
        padding: 10px 12px;
        border-bottom: 1px solid rgba(170, 140, 80, 0.04);
        font-size: 0.95rem;
        color: #222;
      }

      tbody tr:hover {
        background: linear-gradient(
          90deg,
          rgba(250, 242, 224, 0.6),
          rgba(255, 249, 240, 0.6)
        );
      }

      tbody tr:nth-child(even) {
        background: rgba(253, 248, 241, 0.6);
      }

      .pill {
        display: inline-block;
        padding: 6px 10px;
        border-radius: 999px;
        font-size: 0.85rem;
        background: linear-gradient(
          180deg,
          rgba(212, 175, 55, 0.12),
          rgba(196, 157, 95, 0.08)
        );
        color: var(--gold-800);
        border: 1px solid rgba(196, 157, 95, 0.14);
        font-weight: 600;
      }

      .pagination {
        display: flex;
        gap: 8px;
        align-items: center;
        justify-content: flex-end;
        margin-top: 12px;
        flex-wrap: wrap;
      }

      .page-btn {
        border: 1px solid rgba(160, 130, 80, 0.12);
        background: white;
        padding: 8px 10px;
        border-radius: 8px;
        cursor: pointer;
        min-width: 42px;
        text-align: center;
        font-weight: 600;
        box-shadow: none;
      }

      .page-btn.active {
        background: linear-gradient(180deg, var(--gold-600), var(--gold-700));
        color: white;
        border-color: rgba(160, 130, 80, 0);
        box-shadow: 0 8px 22px rgba(165, 129, 59, 0.14);
      }

      .page-btn:disabled {
        opacity: 0.45;
        cursor: not-allowed;
      }

      .meta {
        display: flex;
        gap: 12px;
        align-items: center;
        color: var(--muted);
        font-size: 0.9rem;
      }

      .highlight {
        background: rgba(255, 243, 205, 0.9);
        padding: 0 4px;
        border-radius: 4px;
      }

      @media (max-width: 820px) {
        .search input {
          width: 160px;
        }
        thead th {
          font-size: 0.88rem;
          padding: 10px;
        }
        tbody td {
          padding: 8px;
          font-size: 0.9rem;
        }
        .brand {
          padding: 8px 10px;
          font-size: 0.95rem;
        }
      }
      p {
        color: rgb(25, 4, 181);
        text-align: center;
        font-size: 20px;
        margin-top: 40px;
        font-family: Arial, sans-serif;
      }
      h2 {
        text-align: justify;
        font-weight: lighter;
        color: purple;
        text-align: center;
      }
      strong {
        color: red;
      }
    </style>
  </head>
  <body>
    <h2>
      üåçConnect With kenyan Singles abroad.On the search bar type your country
      <strong>e.g Qatar,Dubai,kuwait,saudi e.t.c</strong> or other search
      attribute (tribe,career,age,location) etc
    </h2>

    <br /><br />
    üåçsingles data.list <strong>shows 462 singles.</strong> To get added/removed
    contact admin. <br /><br />
    <div class="container">
      <div class="card" role="region" aria-labelledby="tableTitle">
        <header class="table-header">
          <div class="title-block">
            <div class="brand" aria-hidden="true">
              <span class="dot"></span>Singles üåç Directory
            </div>
            <div>
              <h1 id="tableTitle">Matches ‚Äî Interactive Table</h1>
              <p class="sub">
                Gold shiny gradient ‚Ä¢ Search ¬∑ Sort ¬∑ Pagination (5 rows per
                page)
              </p>
            </div>
          </div>

          <div class="controls">
            <div class="search" title="Search all columns">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                aria-hidden="true"
              >
                <path
                  d="M21 21l-4.35-4.35"
                  stroke="rgba(139,115,77,0.9)"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <circle
                  cx="11"
                  cy="11"
                  r="6"
                  stroke="rgba(139,115,77,0.9)"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <input
                id="searchInput"
                type="search"
                placeholder="Search name, location, tribe, career..."
                aria-label="Search table"
              />
              <button
                id="clearSearch"
                title="Clear search"
                style="
                  border: 0;
                  background: transparent;
                  cursor: pointer;
                  font-weight: 600;
                  color: var(--gold-800);
                  display: none;
                "
              >
                ‚úï
              </button>
            </div>
          </div>
        </header>

        <div class="table-wrap" role="table" aria-label="People table">
          <table id="peopleTable" aria-describedby="tableTitle">
            <thead>
              <tr>
                <th data-key="no">No. <span class="sort-ind"></span></th>
                <th data-key="name">Name <span class="sort-ind"></span></th>
                <th data-key="age">Age <span class="sort-ind"></span></th>
                <th data-key="location">
                  Location <span class="sort-ind"></span>
                </th>
                <th data-key="gender">Gender <span class="sort-ind"></span></th>
                <th data-key="kids">Kids <span class="sort-ind"></span></th>
                <th data-key="tribe">Tribe <span class="sort-ind"></span></th>
                <th data-key="career">Career <span class="sort-ind"></span></th>
              </tr>
            </thead>
            <tbody id="tableBody">
              <!-- rows generated by JS -->
            </tbody>
          </table>
        </div>

        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 14px;
            gap: 12px;
            flex-wrap: wrap;
          "
        >
          <div class="meta" id="metaInfo" aria-live="polite"></div>
          <div class="pagination" id="pagination"></div>
        </div>
      </div>
    </div>

    <script>
      /***************
       * CONFIG
       ***************/
      const rowsPerPage = 5;
      let currentPage = 1;
      let currentSort = { key: null, dir: 1 }; // dir: 1 asc, -1 desc
      let currentFilter = "";
      const rawRows = [
        ["kelvin Ombati", 25, "qatar", "Male", 0, "kisii", "man life operator"],
        ["Josphat", 34, "qatar", "Male", 1, "Luo", "Water engineer"],
        ["Maya", 35, "qatar", "Female", 1, "Kikuyu", "Procurement"],

        ["Nyoks", 28, "Gulf", "Female", 0, "Kikuyu", "Cooking"],

        ["Nicholus", 25, "qatar", "Male", 0, "Kamba", "IT specialist"],

        ["James", 30, "qatar", "Male", 0, "Kenyan", "Job"],
        ["Loreen", 27, "dubai", "Female", 1, "Kamba/Kikuyu", "Cook"],
        ["Simon", 25, "dubai", "Male", 0, "Kikuyu", "Automotive engineer"],
        ["Jack", 28, "dubai", "Male", 0, "Luo", "Technician"],

        ["Jaime", 25, "dubai", "Male", 0, "Kikuyu", "Data Analyst"],

        ["Godwin", 30, "dubai", "Male", 0, "Kisii", "Chef"],

        ["WINNIE", 34, "dubai", "Female", 2, "Kikuyu", "Finance"],

        ["Cecilia", 33, "dubai", "Female", 0, "Luhya", "Hospitality"],

        ["Shillah", 29, "Middle East", "Female", 1, "Kenyan", "Hair dresser"],

        ["Diana", 27, "kuwait", "Female", 0, "Kalenjin", "Travel consultant"],

        ["Diana", 27, "kuwait", "Female", 0, "Kalenjin", "Consultant"],

        ["Summer", 39, "saudi", "Female", 0, "Meru", "Legal"],

        ["Miriam", 29, "saudi", "Female", 0, "Kikuyu", "Teacher"],

        ["Herbert", 24, "Uganda", "Male", 0, "Muteso", "Electrician"],

        ["Margaret", 28, "Gulf", "Female", 1, "Kikuyu", "Nanny"],

        ["Steven", 58, "Uganda", "Male", 2, "Samia", "Sales man"],

        ["Penny", 30, "United Kingdom", "Female", 1, "Kikuyu", "Medical"],

        ["Margaret", 27, "Gulf", "Female", 1, "Kikuyu", "Caregiver"],

        ["Loise", 25, "Currently in Oman", "Female", 1, "Kikuyu", "Caregiver"],

        ["Herbert", 25, "Uganda", "Male", 0, "Muteso", "Electrician"],

        ["Tusubira", 31, "Uganda", "Female", 1, "Musoga", "Chef"],

        ["Nyawira", 29, "Saudi Arabia", "Female", 1, "Kikuyu", "N/A"],

        ["Nyawira", 29, "Saudi Arabia", "Female", 1, "Kikuyu", "N/A"],

        [
          "hassan",
          35,
          "Currently oman",
          "Female",
          1,
          "Mjomvu",
          "House manager",
        ],

        ["Annie", 26, "Saudi Arabia", "Female", 2, "Kikuyu", "A caregiver"],

        ["Emma", 36, "Saudi Arabia", "Female", 1, "Kenyan", "Front office"],

        ["Christina", 25, "Ghana Accra", "Female", 0, "Ashanti", "Chef"],

        ["Thembelihle", 23, "Sandton", "Female", 1, "Ndebele", "Non employed"],
        [
          "MOSES",
          21,
          "Freetown Sierra Leone",
          "Male",
          1,
          "Limba_igbo",
          "Footballer",
        ],

        ["Cynthia", 29, "Saudi Arabia", "Female", 1, "Luhya", "Caregiver"],

        [
          "Beth",
          28,
          "Currently in Bahrain",
          "Female",
          2,
          "Meru",
          "Working as cleaner",
        ],
      ];

      /***************
       * Map rawRows -> objects used by the table
       ***************/

      function mapRow(arr, origIndex) {
        return {
          name: arr[0] ?? "",
          age: arr[1] ?? "",
          location: arr[2] ?? "",
          gender: arr[3] ?? "",
          kids: arr[4] ?? "",
          tribe: arr[5] ?? "",
          career: arr[6] ?? "",
          __origIndex: origIndex,
        };
      }
      const data = rawRows.map((r, i) => mapRow(r, i));

      /***************
       * DOM cache
       ***************/
      const tbody = document.getElementById("tableBody");
      const pagination = document.getElementById("pagination");
      const metaInfo = document.getElementById("metaInfo");
      const searchInput = document.getElementById("searchInput");
      const clearSearch = document.getElementById("clearSearch");
      const headers = Array.from(document.querySelectorAll("thead th"));

      /***************
       * Helpers
       ***************/
      function escapeHtml(str) {
        return String(str)
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }

      function containsAnyCell(item, query) {
        if (!query) return true;
        const q = query.toLowerCase();
        return [
          "name",
          "age",
          "location",
          "gender",
          "kids",
          "tribe",
          "career",
        ].some((k) => String(item[k]).toLowerCase().includes(q));
      }

      function compare(a, b, key) {
        const va = a[key];
        const vb = b[key];
        if (key === "age" || key === "kids") return Number(va) - Number(vb);
        return String(va).localeCompare(String(vb), undefined, {
          numeric: true,
          sensitivity: "base",
        });
      }

      // Enhanced processed data - respects currentFilter and currentSort (supports 'no' sort)
      function getProcessedData() {
        let results = data.filter((item) =>
          containsAnyCell(item, currentFilter)
        );
        if (currentSort.key) {
          if (currentSort.key === "no") {
            results.sort(
              (a, b) => currentSort.dir * (a.__origIndex - b.__origIndex)
            );
          } else {
            results.sort(
              (a, b) => currentSort.dir * compare(a, b, currentSort.key)
            );
          }
        }
        return results;
      }

      /***************
       * Rendering
       ***************/
      function renderTable() {
        const processed = getProcessedData();
        const total = processed.length;
        const totalPages = Math.max(1, Math.ceil(total / rowsPerPage));

        if (currentPage > totalPages) currentPage = totalPages;
        if (currentPage < 1) currentPage = 1;

        const start = (currentPage - 1) * rowsPerPage;
        const pageItems = processed.slice(start, start + rowsPerPage);

        tbody.innerHTML = "";
        for (let i = 0; i < pageItems.length; i++) {
          const r = pageItems[i];
          const tr = document.createElement("tr");
          const serial = start + i + 1; // serial number in filtered result
          tr.innerHTML = `
            <td><span class="pill">${serial}</span></td>
            <td>${escapeHtml(r.name)}</td>
            <td>${escapeHtml(r.age)}</td>
            <td>${escapeHtml(r.location)}</td>
            <td>${escapeHtml(r.gender)}</td>
            <td>${escapeHtml(r.kids)}</td>
            <td>${escapeHtml(r.tribe)}</td>
            <td>${escapeHtml(r.career)}</td>
          `;
          tbody.appendChild(tr);
        }

        renderPagination(total, totalPages);
        updateMeta(total, totalPages);
        updateSortIndicators();
        clearSearch.style.display = currentFilter ? "inline-block" : "none";
      }

      function renderPagination(totalItems, totalPages) {
        pagination.innerHTML = "";

        const prevBtn = document.createElement("button");
        prevBtn.className = "page-btn";
        prevBtn.textContent = "Prev";
        prevBtn.disabled = currentPage === 1;
        prevBtn.onclick = () => {
          currentPage--;
          renderTable();
        };
        pagination.appendChild(prevBtn);

        const maxButtons = 7;
        let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));
        let endPage = startPage + maxButtons - 1;
        if (endPage > totalPages) {
          endPage = totalPages;
          startPage = Math.max(1, endPage - maxButtons + 1);
        }

        for (let p = startPage; p <= endPage; p++) {
          const btn = document.createElement("button");
          btn.className = "page-btn" + (p === currentPage ? " active" : "");
          btn.textContent = p;
          btn.onclick = () => {
            currentPage = p;
            renderTable();
          };
          pagination.appendChild(btn);
        }

        const nextBtn = document.createElement("button");
        nextBtn.className = "page-btn";
        nextBtn.textContent = "Next";
        nextBtn.disabled = currentPage === totalPages;
        nextBtn.onclick = () => {
          currentPage++;
          renderTable();
        };
        pagination.appendChild(nextBtn);
      }

      function updateMeta(totalItems, totalPages) {
        const start =
          totalItems === 0 ? 0 : (currentPage - 1) * rowsPerPage + 1;
        const end = Math.min(totalItems, currentPage * rowsPerPage);
        metaInfo.textContent = `${totalItems} result${
          totalItems === 1 ? "" : "s"
        } ‚Äî showing ${start} to ${end}`;
      }

      function updateSortIndicators() {
        headers.forEach((th) => {
          const ind = th.querySelector(".sort-ind");
          const key = th.dataset.key;
          ind.textContent = "";
          if (!currentSort.key) return;
          if (currentSort.key === "no" && key === "no") {
            ind.textContent = currentSort.dir === 1 ? "‚ñ≤" : "‚ñº";
          } else if (currentSort.key === key) {
            ind.textContent = currentSort.dir === 1 ? "‚ñ≤" : "‚ñº";
          }
        });
      }

      /***************
       * Header click sorting (toggle asc/desc)
       ***************/
      headers.forEach((th) => {
        th.addEventListener("click", () => {
          const key = th.dataset.key;
          if (!key) return;
          if (currentSort.key === key) currentSort.dir *= -1;
          else {
            currentSort.key = key;
            currentSort.dir = 1;
          }
          currentPage = 1;
          renderTable();
        });
      });

      /***************
       * Search (debounced)
       ***************/
      let debounceTimer = null;
      searchInput.addEventListener("input", (e) => {
        clearTimeout(debounceTimer);
        debounceTimer = setTimeout(() => {
          currentFilter = e.target.value.trim();
          currentPage = 1;
          renderTable();
        }, 180);
      });

      clearSearch.addEventListener("click", () => {
        searchInput.value = "";
        currentFilter = "";
        currentPage = 1;
        renderTable();
      });

      searchInput.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          searchInput.value = "";
          currentFilter = "";
          currentPage = 1;
          renderTable();
        }
      });

      // init
      (function init() {
        headers.forEach((h) => h.setAttribute("role", "columnheader"));
        renderTable();
      })();
    </script>
    <br />
    <br />

    <h1><strong>Trouble using table? whatsap admin at 0796339854</strong></h1>
    <br /><br />
  </body>
</html>
